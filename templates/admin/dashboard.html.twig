{% extends "@EasyAdmin/page/content.html.twig" %}

{% block stylesheets %}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
{% endblock %}

{% block content %}


	<div class="container">
		<div class="row">
			<div class="text-center">
				<h1>Bienvenue,
					{{ app.user.firstName }}
					{{ app.user.lastName }}</h1>
				<p>Vous êtes connecté en tant qu'administrateur</p>
				<a href="{{ logout_url('main') }}" class="btn btn-primary">Déconnexion</a>
				{# Retour à la page profil #}
				<a href="{{ path('app_user_show',{'slug':app.user.slug}) }}" class="btn btn-info">Retour à votre profil</a>
				{# Retour à la page d'accueil #}
				<a href="{{ path('app_home') }}" class="btn btn-outline-primary">Retour à l'accueil</a>
			</div>
		</div>

		<div class="row mt-5">
			<div class="col">
				<div class="card bg-info text-white text-center mb-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4"><img src="https://www.svgrepo.com/show/286776/users-young.svg" alt="users" style="width: 50px; height: 50px;"></div>
							<div class="col-8">
								<h3>{{stats.users}}
									Utilisateurs</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card bg-primary text-white text-center mb-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4"><img src="https://www.svgrepo.com/show/475076/house.svg" alt="house" style="width: 50px; height: 50px;"></div>
							<div class="col-8">
								<h3>
									{{stats.ads}}
									Maisons louées
								</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card bg-success text-white text-center mb-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4"><img src="https://www.svgrepo.com/show/476882/hotel-information.svg" alt="Booking" style="width: 50px; height: 50px;"></div>
							<div class="col-8">
								<h3>+
									{{stats.bookings}}
									réservations</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card bg-warning text-white text-center mb-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4"><img src="https://www.svgrepo.com/show/475150/chat.svg" alt="Booking" style="width: 50px; height: 50px;"></div>
							<div class="col-8">
								<h3>+ de
									{{stats.comments}}
									Avis reçus

								</h3>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<hr>


		<div class="row mt-5 mb-5">
			<div class="col-md-6 d-flex flex-wrap bg-success pb-3">
				<h1 class="text-center">
					<img src="https://www.svgrepo.com/show/247793/up-arrow.svg" alt="" style="width: 50px; height: 50px;">
					Les meilleures annonces</h1>
				{% for ad in bestAds %}
					<div class="col-6">
						<div class="card mt-4 mx-2">
							<img src="{{ ad.coverImage }}" class="card-img-top" alt="..." style="height:10rem">
							<div class="card-body">
								<h5 class="card-title text-dark">{{ ad.title }}</h5>
								<span class="badge text-bg-success">Noté
									{{ad.note| number_format(1,","," ")}}</span>
								<p class="card-text"></p>
								<div class="text-muted">
									<a href="{{path('app_user_show',{'slug':ad.slugUser})}}" class="text-decoration-none text-dark fw-bold">
										<img src="{{ad.profilPicture}}" alt="profil" style="width:40px;height:40px" class="img-fluid rounded-circle">
										{{ ad.firstName }}
										{{ ad.lastName }}
									</a>
								</div>
								<a href="{{path('app_ad_show',{'slug':ad.slugAd})}}" class="btn btn-primary mt-2">Voir l'annonce</a>

							</div>
						</div>
					</div>
				{% endfor %}
			</div>

			<div class="col-md-6 d-flex flex-wrap bg-warning pb-3">
				<h1 class="text-center">
					<img src="https://www.svgrepo.com/show/247753/down-arrow-download.svg" alt="" style="width: 50px; height: 50px;">

					Les pires annonces</h1>
				{% for ad in worstAds %}
					<div class="col-6">
						<div class="card mt-4 mx-2">
							<img src="{{ ad.coverImage }}" class="card-img-top" alt="..." style="height:10rem">
							<div class="card-body">
								<h5 class="card-title text-dark">{{ ad.title }}</h5>
								<span class="badge text-bg-success">Noté
									{{ad.note| number_format(1,","," ")}}</span>
								<p class="card-text"></p>
								<div class="text-muted">
									<a href="{{path('app_user_show',{'slug':ad.slugUser})}}" class="text-decoration-none text-dark fw-bold">
										<img src="{{ad.profilPicture}}" alt="profil" style="width:40px;height:40px" class="img-fluid rounded-circle">
										{{ ad.firstName }}
										{{ ad.lastName }}
									</a>
								</div>
								<a href="{{path('app_ad_show',{'slug':ad.slugAd})}}" class="btn btn-primary mt-2">Voir l'annonce</a>

							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>

<hr>
	</div>

{% endblock %}
